<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f3f4f6;
            display: flex;
        }

        .sidebar {
            width: 260px;
            background: #1f2937;
            color: white;
            height: 100vh;
            position: fixed;
            padding: 30px 20px;
        }

        .sidebar h1 {
            font-size: 24px;
            margin-bottom: 40px;
            color: #fff;
        }

        .nav-btn {
            width: 100%;
            padding: 15px 20px;
            background: transparent;
            border: none;
            color: white;
            text-align: left;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 15px;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #374151;
        }

        .nav-btn.active {
            background: #2563eb;
        }

        .main-content {
            margin-left: 260px;
            padding: 40px;
            width: calc(100% - 260px);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stat-card h3 {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stat-card .number {
            font-size: 32px;
            font-weight: bold;
            color: #1f2937;
        }

        h2 {
            font-size: 28px;
            margin-bottom: 25px;
            color: #1f2937;
        }

        h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #1f2937;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #2563eb;
            color: white;
        }

        .btn-primary:hover {
            background: #1d4ed8;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            background: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        tr:hover {
            background: #f9fafb;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .badge-paid {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-overdue {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-excellent {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-good {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-needs-improvement {
            background: #fee2e2;
            color: #991b1b;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 30px;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .event-list {
            list-style: none;
        }

        .event-item {
            padding: 15px;
            background: #f9fafb;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h1>School Admin</h1>
        <button class="nav-btn active" onclick="showPage('dashboard')">üìä Dashboard</button>
        <button class="nav-btn" onclick="showPage('students')">üë• Manage Students</button>
        <button class="nav-btn" onclick="showPage('fees')">üí∞ Fee Status</button>
        <button class="nav-btn" onclick="showPage('performance')">üìà Class Performance</button>
        <button class="nav-btn" onclick="showPage('teachers')">üë®‚Äçüè´ Manage Teachers</button>
        <button class="nav-btn" onclick="showPage('school')">üìÖ School Info</button>
    </div>

    <div class="main-content">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page active">
            <h2>Dashboard Overview</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Students</h3>
                    <div class="number" id="totalStudents">0</div>
                </div>
                <div class="stat-card">
                    <h3>Total Teachers</h3>
                    <div class="number" id="totalTeachers">0</div>
                </div>
                <div class="stat-card">
                    <h3>Fee Collection</h3>
                    <div class="number" id="totalFees">$0</div>
                </div>
            </div>
            <div class="chart-grid">
                <div class="card">
                    <h3>Fee Status Distribution</h3>
                    <div class="chart-container">
                        <canvas id="feeChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>Recent Activities</h3>
                    <div class="event-list">
                        <div class="event-item">üìù New student enrolled</div>
                        <div class="event-item">üíµ Fee payment received</div>
                        <div class="event-item">üìÖ Event scheduled</div>
                        <div class="event-item">üë®‚Äçüè´ New teacher added</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Students Page -->
        <div id="students" class="page">
            <h2>Manage Students</h2>
            <div class="card">
                <h3>Add New Student</h3>
                <div class="form-grid">
                    <input type="text" id="studentName" placeholder="Student Name">
                    <input type="text" id="studentClass" placeholder="Class (e.g., 10-A)">
                    <input type="number" id="studentAmount" placeholder="Fee Amount">
                    <button class="btn btn-primary" onclick="addStudent()">Add Student</button>
                </div>
            </div>
            <div class="card">
                <h3>Student List</h3>
                <table id="studentTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Class</th>
                            <th>Fee Status</th>
                            <th>Amount</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Fees Page -->
        <div id="fees" class="page">
            <h2>Fee Status Management</h2>
            <div class="card">
                <table id="feeTable">
                    <thead>
                        <tr>
                            <th>Student Name</th>
                            <th>Class</th>
                            <th>Amount</th>
                            <th>Current Status</th>
                            <th>Update Status</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Performance Page -->
        <div id="performance" class="page">
            <h2>Class Performance</h2>
            <div class="chart-grid">
                <div class="card">
                    <h3>Average Scores by Class</h3>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>Student Count by Class</h3>
                    <div class="chart-container">
                        <canvas id="studentCountChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="card">
                <h3>Class Details</h3>
                <table id="performanceTable">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Average Score</th>
                            <th>Total Students</th>
                            <th>Performance</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Teachers Page -->
        <div id="teachers" class="page">
            <h2>Manage Teachers</h2>
            <div class="card">
                <h3>Add New Teacher</h3>
                <div class="form-grid">
                    <input type="text" id="teacherName" placeholder="Teacher Name">
                    <input type="text" id="teacherSubject" placeholder="Subject">
                    <input type="text" id="teacherClass" placeholder="Class">
                    <button class="btn btn-primary" onclick="addTeacher()">Add Teacher</button>
                </div>
            </div>
            <div class="card">
                <h3>Teacher List</h3>
                <table id="teacherTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Subject</th>
                            <th>Class</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- School Info Page -->
        <div id="school" class="page">
            <h2>School Information</h2>
            <div class="chart-grid">
                <div class="card">
                    <h3>‚è∞ School Timings</h3>
                    <input type="text" id="schoolTimings" value="8:00 AM - 2:00 PM">
                    <button class="btn btn-primary" style="margin-top: 15px;" onclick="updateTimings()">Update Timings</button>
                </div>
                <div class="card">
                    <h3>üìÖ Add Event</h3>
                    <input type="text" id="eventInput" placeholder="Enter event">
                    <button class="btn btn-success" style="margin-top: 15px;" onclick="addEvent()">Add Event</button>
                </div>
            </div>
            <div class="chart-grid">
                <div class="card">
                    <h3>Upcoming Events</h3>
                    <ul class="event-list" id="eventList"></ul>
                </div>
                <div class="card">
                    <h3>Schedules</h3>
                    <ul class="event-list" id="scheduleList"></ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let students = [
            { id: 1, name: 'John Doe', class: '10-A', feeStatus: 'Paid', amount: 5000 },
            { id: 2, name: 'Jane Smith', class: '10-B', feeStatus: 'Pending', amount: 5000 },
            { id: 3, name: 'Mike Johnson', class: '9-A', feeStatus: 'Paid', amount: 4500 },
        ];

        let teachers = [
            { id: 1, name: 'Prof. Anderson', subject: 'Mathematics', class: '10-A' },
            { id: 2, name: 'Dr. Williams', subject: 'Science', class: '10-B' },
        ];

        let performanceData = [
            { class: '8-A', avgScore: 75, students: 30 },
            { class: '9-A', avgScore: 82, students: 28 },
            { class: '10-A', avgScore: 78, students: 32 },
            { class: '10-B', avgScore: 85, students: 30 },
        ];

        let events = ['Sports Day - Dec 20', 'Annual Function - Jan 15'];
        let schedules = ['Mid-term Exams - Dec 25', 'Winter Break - Jan 1-10'];

        // Charts
        let feeChart, performanceChart, studentCountChart;

        // Page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            event.target.classList.add('active');
            
            if (pageId === 'dashboard') updateDashboard();
            if (pageId === 'performance') updatePerformanceCharts();
        }

        // Student functions
        function addStudent() {
            const name = document.getElementById('studentName').value;
            const cls = document.getElementById('studentClass').value;
            const amount = document.getElementById('studentAmount').value;
            
            if (name && cls && amount) {
                students.push({
                    id: Date.now(),
                    name: name,
                    class: cls,
                    feeStatus: 'Pending',
                    amount: parseInt(amount)
                });
                
                document.getElementById('studentName').value = '';
                document.getElementById('studentClass').value = '';
                document.getElementById('studentAmount').value = '';
                
                renderStudentTable();
                renderFeeTable();
                updateDashboard();
            }
        }

        function deleteStudent(id) {
            students = students.filter(s => s.id !== id);
            renderStudentTable();
            renderFeeTable();
            updateDashboard();
        }

        function updateFeeStatus(id, status) {
            const student = students.find(s => s.id === id);
            if (student) {
                student.feeStatus = status;
                renderStudentTable();
                renderFeeTable();
                updateDashboard();
            }
        }

        function renderStudentTable() {
            const tbody = document.querySelector('#studentTable tbody');
            tbody.innerHTML = students.map(s => `
                <tr>
                    <td>${s.name}</td>
                    <td>${s.class}</td>
                    <td><span class="badge badge-${s.feeStatus.toLowerCase()}">${s.feeStatus}</span></td>
                    <td>$${s.amount}</td>
                    <td><button class="btn btn-danger btn-small" onclick="deleteStudent(${s.id})">Delete</button></td>
                </tr>
            `).join('');
        }

        function renderFeeTable() {
            const tbody = document.querySelector('#feeTable tbody');
            tbody.innerHTML = students.map(s => `
                <tr>
                    <td>${s.name}</td>
                    <td>${s.class}</td>
                    <td>$${s.amount}</td>
                    <td><span class="badge badge-${s.feeStatus.toLowerCase()}">${s.feeStatus}</span></td>
                    <td>
                        <select onchange="updateFeeStatus(${s.id}, this.value)" value="${s.feeStatus}">
                            <option value="Paid" ${s.feeStatus === 'Paid' ? 'selected' : ''}>Paid</option>
                            <option value="Pending" ${s.feeStatus === 'Pending' ? 'selected' : ''}>Pending</option>
                            <option value="Overdue" ${s.feeStatus === 'Overdue' ? 'selected' : ''}>Overdue</option>
                        </select>
                    </td>
                </tr>
            `).join('');
        }

        // Teacher functions
        function addTeacher() {
            const name = document.getElementById('teacherName').value;
            const subject = document.getElementById('teacherSubject').value;
            const cls = document.getElementById('teacherClass').value;
            
            if (name && subject && cls) {
                teachers.push({
                    id: Date.now(),
                    name: name,
                    subject: subject,
                    class: cls
                });
                
                document.getElementById('teacherName').value = '';
                document.getElementById('teacherSubject').value = '';
                document.getElementById('teacherClass').value = '';
                
                renderTeacherTable();
                updateDashboard();
            }
        }

        function deleteTeacher(id) {
            teachers = teachers.filter(t => t.id !== id);
            renderTeacherTable();
            updateDashboard();
        }

        function renderTeacherTable() {
            const tbody = document.querySelector('#teacherTable tbody');
            tbody.innerHTML = teachers.map(t => `
                <tr>
                    <td>${t.name}</td>
                    <td>${t.subject}</td>
                    <td>${t.class}</td>
                    <td>
                        <button class="btn btn-danger btn-small" onclick="deleteTeacher(${t.id})">Delete</button>
                        <button class="btn btn-primary btn-small">Edit</button>
                    </td>
                </tr>
            `).join('');
        }

        // Performance functions
        function renderPerformanceTable() {
            const tbody = document.querySelector('#performanceTable tbody');
            tbody.innerHTML = performanceData.map(p => {
                let performance = p.avgScore >= 80 ? 'Excellent' : p.avgScore >= 70 ? 'Good' : 'Needs Improvement';
                let badgeClass = p.avgScore >= 80 ? 'badge-excellent' : p.avgScore >= 70 ? 'badge-good' : 'badge-needs-improvement';
                return `
                    <tr>
                        <td><strong>${p.class}</strong></td>
                        <td>${p.avgScore}%</td>
                        <td>${p.students}</td>
            